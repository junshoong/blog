<!DOCTYPE html>
<html lang="ko">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>Junshoong의 기술블로그</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">

		<link rel="stylesheet" href="./theme/css/poole.css" />
		<link rel="stylesheet" href="./theme/css/hyde.css" />
		<link rel="stylesheet" href="./theme/css/syntax.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="./theme/css/style.css" />

		<!-- RSS -->
		<link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
	</head>

	<body class="theme-base-0d">
<div class="sidebar">
	<div class="container sidebar-sticky">
		<div class="sidebar-about">

			<h1>
				<a href="/">
					<img class="profile-picture" src="./images/profile.png">
                    <p class="sitename"> Junshoong의 기술블로그 </p>
				</a>
			</h1>
			<p class="lead"></p>
			<p class="lead"> </p>
			<p></p>
		</div>
		<ul class="sidebar-nav">
                <li>
					<a class="sidebar-nav-item" href="mailto:junshoong@gmail.com">
						<i class="fa fa-envelope"></i>
                        email
					</a>
                </li>
                <li>
					<a class="sidebar-nav-item" href="https://www.facebook.com/vaporize93">
						<i class="fa fa-facebook"></i>
                        facebook
					</a>
                </li>
                <li>
					<a class="sidebar-nav-item" href="https://www.linkedin.com/in/junshoong">
						<i class="fa fa-linkedin"></i>
                        linkedin
					</a>
                </li>
                <li>
					<a class="sidebar-nav-item" href="https://www.slideshare.net/junshoong">
						<i class="fa fa-slideshare"></i>
                        slideshare
					</a>
                </li>
                <li>
					<a class="sidebar-nav-item" href="https://github.com/junshoong">
						<i class="fa fa-github"></i>
                        github
					</a>
                </li>
                <li>
					<a class="sidebar-nav-item" href="https://www.stackoverflow.com/users/4466697/junsu-kim">
						<i class="fa fa-stack-overflow"></i>
                        stack-overflow
					</a>
                </li>
            <li>
			<a class="sidebar-nav-item" href="">
				<i class="fa fa-feed"></i>
                FEED
			</a>
            </li>
		</nav>
	</div>
</div>		<div class="content container">
	<div class="posts">
			<div class="post">
				<h1 class="post-title" href="./python/import-module-function#import-module-function">
					<a href="./python/import-module-function#import-module-function">[Python]import_module을 사용해서 import 하기</a>
				</h1>
				<span class="post-date">2017-05-01, Mon</span>
				<p>
					<p>python에서 숫자 등으로 시작하는 패키지를 import 할때는 주의해야한다.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="mi">1234</span>
<span class="kn">from</span> <span class="mi">1234</span> <span class="kn">import</span> <span class="nn">abc</span>
</pre></div>


<p>위와 같이 숫자로 된 파일은 에러를 뱉을 뿐 import 되지 않는다.
그럴 땐 아래와 같이 한다.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">importlib</span>

<span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s1">&#39;1234&#39;</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s1">&#39;1234&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">abc</span><span class="p">()</span>
</pre></div>


<p>위와 같은 작업으로 import를 진행할 수 있다.</p>
<p>참고링크
- <a href="https://docs.python.org/3/library/importlib.html#importlib.import_module">python …</a></p>
				</p>
				<a class="read-more" href="python/import-module-function">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="./python/asyncronous-http-request#asyncronous-http-request">
					<a href="./python/asyncronous-http-request#asyncronous-http-request">[Python] http 요청을 비동기로하기</a>
				</h1>
				<span class="post-date">2017-04-26, Wed</span>
				<p>
					<p>http 요청으로 간단한 스크래핑 작업을 하는데 요청 갯수가 일곱개 정도 되니 시간이 오래걸린다.</p>
<p><code>asyncio</code>와 <code>aiohttp</code>를 사용해서 속도를 높여보자.</p>
<p>[gist:id=6c7db753f49f4720473b34147abc3b6c,file=requests_test.py]</p>
<p>위 코드는 <code>http://example.com</code>에 http get을 20회 실행하는 코드다.
timeit을 이용해서 시간을 확인해보니 6~7초정도 걸렸다.</p>
<p>[gist:id=6c7db753f49f4720473b34147abc3b6c,file=aiohttp_test.py …</p>
				</p>
				<a class="read-more" href="python/asyncronous-http-request">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="./python/time-check#time-check">
					<a href="./python/time-check#time-check">[Python] 프로그램 시간 체크하기</a>
				</h1>
				<span class="post-date">2017-04-26, Wed</span>
				<p>
					<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">timeit</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">default_timer</span><span class="p">()</span>

<span class="n">some_progress</span><span class="p">()</span>

<span class="n">e</span> <span class="o">=</span> <span class="n">timeit</span><span class="o">.</span><span class="n">default_timer</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">e</span><span class="o">-</span><span class="n">s</span><span class="p">)</span>
</pre></div>


<p>위와 같이 특정 처리에 걸린 시간을 확인할 수 있다.</p>
				</p>
				<a class="read-more" href="python/time-check">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="./docker/persist-data-with-data-volume#persist-data-with-data-volume">
					<a href="./docker/persist-data-with-data-volume#persist-data-with-data-volume">[Docker] Data Volume을 사용해서 데이터 지속하기</a>
				</h1>
				<span class="post-date">2017-04-21, Fri</span>
				<p>
					<p>docker와 git-hook을 사용해서 어느정도 프로세스를 자동화하고 있다.
하지만 docker container를 부수고 다시 build 해서 돌리면 내부 데이터가 날아간다. DB의 경우는 <code>--link</code> 옵션을 이용해서 유지하지만 실제로 upload한 image와 같은 file들의 경우는 컨테이너와 함께 지워진다.</p>
<p>Data Volume을 사용해서 해결해보자.</p>
<div class="highlight"><pre><span></span>docker create -v /srv/media --name data-store ubuntu /bin/true
</pre></div>


<p>이렇게하면 ubuntu 이미지를 …</p>
				</p>
				<a class="read-more" href="docker/persist-data-with-data-volume">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="./django/set-user-permission#set-user-permission">
					<a href="./django/set-user-permission#set-user-permission">[Django] User에게 권한 부여하기</a>
				</h1>
				<span class="post-date">2017-04-21, Fri</span>
				<p>
					<p>코드 몇줄로 간단하게 권한을 부여할 수 있다.</p>
<div class="highlight"><pre><span></span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;testuser&#39;</span><span class="p">)</span>
<span class="n">perm</span> <span class="o">=</span> <span class="n">Permission</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">codename</span><span class="o">=</span><span class="s1">&#39;model.add_model&#39;</span><span class="p">)</span>
<span class="n">user</span><span class="o">.</span><span class="n">user_permissions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">perm</span><span class="p">)</span>
</pre></div>


<p>여기서 주의할 점은 적용되긴하지만 <code>has_perm</code>등으로 확인하면 해당 권한이 없다고 나온다는 점이다. 이는 캐싱되어 있는 정보때문에 그렇다. 캐시를 지우거나 인스턴스를 새로 불러오면 올바르게 적용된걸 확인할 수 …</p>
				</p>
				<a class="read-more" href="django/set-user-permission">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="./django/serializer-or-view#serializer-or-view">
					<a href="./django/serializer-or-view#serializer-or-view">[Django] serializer의 구현</a>
				</h1>
				<span class="post-date">2017-04-20, Thu</span>
				<p>
					<p>DRF에서 create를 구현하는 경우 <code>ViewSet</code>의 <code>perform_create</code>를 사용하면 Serializer의 create를 돌지 않는다.</p>
				</p>
				<a class="read-more" href="django/serializer-or-view">Continue reading »</a>
			</div>
			<div class="post">
				<h1 class="post-title" href="./django/timezone-setting#timezone-setting">
					<a href="./django/timezone-setting#timezone-setting">[Django] timezone 설정</a>
				</h1>
				<span class="post-date">2017-04-19, Wed</span>
				<p>
					<p>Django에서 기본적인 DateTimeField를 현재 timezone으로 맞추고 싶다.</p>
<p>settings.py</p>
<div class="highlight"><pre><span></span><span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s1">&#39;Asia/Seoul&#39;</span>
<span class="c1"># USE_TZ = True</span>
</pre></div>


<p>여기서 <code>TIME_ZONE</code>만 수정해주니까 저장되는 값이 달랐다. <code>USE_TZ</code>도 comment 해주니 정상적으로 입력되었다.
참고로 Django에서는 <a href="https://www.w3.org/TR/NOTE-datetime"><code>ISO 8601</code></a> 을 따른다.</p>
				</p>
				<a class="read-more" href="django/timezone-setting">Continue reading »</a>
			</div>
	</div>
	<div class="pagination">

		<span class="pagination-item older">Newer</span>

		<span class="pagination-item newer"><a href="./index2.html">Older</a></span>
	</div>
		</div>
	</body>
</html>